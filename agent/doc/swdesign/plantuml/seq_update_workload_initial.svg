<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1184px" preserveAspectRatio="none" style="width:985px;height:1184px;background:#FFFFFF;" version="1.1" viewBox="0 0 985 1184" width="985px" zoomAndPan="magnify"><defs/><g><rect fill="#EEEEEE" height="1165.8047" style="stroke:#D3D3D3;stroke-width:0.5;" width="777.5" x="30" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107" x="365.25" y="18.0669">Ankaios Agent</text><rect fill="#EEEEEE" height="1165.8047" style="stroke:#D3D3D3;stroke-width:0.5;" width="124" x="829.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="110" x="836.5" y="18.0669">Ankaios Server</text><rect fill="#FFFFFF" height="64.2656" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="86.5" y="82.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="86.5" x2="86.5" y1="82.7266" y2="146.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="96.5" x2="96.5" y1="82.7266" y2="146.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="86.5" x2="96.5" y1="82.7266" y2="82.7266"/><rect fill="#FFFFFF" height="894.875" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="86.5" y="187.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="86.5" x2="86.5" y1="187.7969" y2="1082.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="96.5" x2="96.5" y1="187.7969" y2="1082.6719"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="86.5" y="1110.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="86.5" x2="86.5" y1="1110.6719" y2="1139.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="96.5" x2="96.5" y1="1110.6719" y2="1139.8047"/><rect fill="#FFFFFF" height="1" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="86.5" y="1167.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="86.5" x2="86.5" y1="1167.8047" y2="1168.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="96.5" x2="96.5" y1="1167.8047" y2="1168.8047"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="91.5" y="138.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.5" x2="91.5" y1="138.9922" y2="146.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="101.5" x2="101.5" y1="138.9922" y2="146.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.5" x2="101.5" y1="138.9922" y2="138.9922"/><rect fill="#FFFFFF" height="894.875" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="91.5" y="187.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.5" x2="91.5" y1="187.7969" y2="1082.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="101.5" x2="101.5" y1="187.7969" y2="1082.6719"/><rect fill="#FFFFFF" height="21.1328" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="91.5" y="1110.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.5" x2="91.5" y1="1110.6719" y2="1131.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="101.5" x2="101.5" y1="1110.6719" y2="1131.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.5" x2="101.5" y1="1131.8047" y2="1131.8047"/><rect fill="#FFFFFF" height="865.7422" style="stroke:#181818;stroke-width:1.0;" width="10" x="361.5" y="208.9297"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="366.5" y="246.0625"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="366.5" y="369.0938"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="366.5" y="904.7969"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="366.5" y="1018.6719"/><rect fill="#FFFFFF" height="101.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="732.5" y="468.9922"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="737.5" y="506.125"/><rect fill="#FFFFFF" height="101.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="732.5" y="614.1953"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="737.5" y="651.3281"/><rect fill="#FFFFFF" height="101.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="732.5" y="759.3984"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="737.5" y="796.5313"/><rect fill="#FFFFFF" height="64.2656" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="886.5" y="82.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="886.5" x2="886.5" y1="82.7266" y2="146.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="896.5" x2="896.5" y1="82.7266" y2="146.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="886.5" x2="896.5" y1="82.7266" y2="82.7266"/><rect fill="#FFFFFF" height="894.875" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="886.5" y="187.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="886.5" x2="886.5" y1="187.7969" y2="1082.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="896.5" x2="896.5" y1="187.7969" y2="1082.6719"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="886.5" y="1110.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="886.5" x2="886.5" y1="1110.6719" y2="1139.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="896.5" x2="896.5" y1="1110.6719" y2="1139.8047"/><rect fill="#FFFFFF" height="1" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="886.5" y="1167.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="886.5" x2="886.5" y1="1167.8047" y2="1168.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="896.5" x2="896.5" y1="1167.8047" y2="1168.8047"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="891.5" y="1131.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="891.5" x2="891.5" y1="1131.8047" y2="1139.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="901.5" x2="901.5" y1="1131.8047" y2="1139.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="891.5" x2="901.5" y1="1131.8047" y2="1131.8047"/><rect fill="#FFFFFF" height="1" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="891.5" y="1167.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="891.5" x2="891.5" y1="1167.8047" y2="1168.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="901.5" x2="901.5" y1="1167.8047" y2="1168.8047"/><rect fill="none" height="651.7344" style="stroke:#000000;stroke-width:1.5;" width="643" x="259.5" y="296.0625"/><rect fill="none" height="437.9375" style="stroke:#000000;stroke-width:1.5;" width="623" x="269.5" y="430.7266"/><rect fill="none" height="99.875" style="stroke:#000000;stroke-width:1.5;" width="442" x="269.5" y="961.7969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="91" x2="91" y1="72.7266" y2="146.9922"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="91" x2="91" y1="146.9922" y2="187.7969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="91" x2="91" y1="187.7969" y2="1082.6719"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="91" x2="91" y1="1082.6719" y2="1110.6719"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="91" x2="91" y1="1110.6719" y2="1139.8047"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="91" x2="91" y1="1139.8047" y2="1167.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="91" x2="91" y1="1167.8047" y2="1177.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="366.5" x2="366.5" y1="72.7266" y2="146.9922"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="366.5" x2="366.5" y1="146.9922" y2="187.7969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="366.5" x2="366.5" y1="187.7969" y2="1082.6719"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="366.5" x2="366.5" y1="1082.6719" y2="1110.6719"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="366.5" x2="366.5" y1="1110.6719" y2="1139.8047"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="366.5" x2="366.5" y1="1139.8047" y2="1167.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="366.5" x2="366.5" y1="1167.8047" y2="1177.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="737.5" x2="737.5" y1="72.7266" y2="146.9922"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="737.5" x2="737.5" y1="146.9922" y2="187.7969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="737.5" x2="737.5" y1="187.7969" y2="1082.6719"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="737.5" x2="737.5" y1="1082.6719" y2="1110.6719"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="737.5" x2="737.5" y1="1110.6719" y2="1139.8047"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="737.5" x2="737.5" y1="1139.8047" y2="1167.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="737.5" x2="737.5" y1="1167.8047" y2="1177.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="891.5" x2="891.5" y1="72.7266" y2="146.9922"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="891.5" x2="891.5" y1="146.9922" y2="187.7969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="891.5" x2="891.5" y1="187.7969" y2="1082.6719"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="891.5" x2="891.5" y1="1082.6719" y2="1110.6719"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="891.5" x2="891.5" y1="1110.6719" y2="1139.8047"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="891.5" x2="891.5" y1="1139.8047" y2="1167.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="891.5" x2="891.5" y1="1167.8047" y2="1177.8047"/><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="34" y="41.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="41" y="61.4248">AgentManager</text><rect fill="#E3E3E3" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="279.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="286.5" y="45.1279">&lt;&lt;RuntimeAdapter&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="296" y="61.4248">e.g. PodmanAdapter</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="671.5" y="41.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="678.5" y="61.4248">Workload Facade</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="833.5" y="41.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="840.5" y="61.4248">Ankaios Server</text><rect fill="#FFFFFF" height="64.2656" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="86.5" y="82.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="86.5" x2="86.5" y1="82.7266" y2="146.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="96.5" x2="96.5" y1="82.7266" y2="146.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="86.5" x2="96.5" y1="82.7266" y2="82.7266"/><rect fill="#FFFFFF" height="894.875" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="86.5" y="187.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="86.5" x2="86.5" y1="187.7969" y2="1082.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="96.5" x2="96.5" y1="187.7969" y2="1082.6719"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="86.5" y="1110.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="86.5" x2="86.5" y1="1110.6719" y2="1139.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="96.5" x2="96.5" y1="1110.6719" y2="1139.8047"/><rect fill="#FFFFFF" height="1" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="86.5" y="1167.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="86.5" x2="86.5" y1="1167.8047" y2="1168.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="96.5" x2="96.5" y1="1167.8047" y2="1168.8047"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="91.5" y="138.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.5" x2="91.5" y1="138.9922" y2="146.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="101.5" x2="101.5" y1="138.9922" y2="146.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.5" x2="101.5" y1="138.9922" y2="138.9922"/><rect fill="#FFFFFF" height="894.875" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="91.5" y="187.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.5" x2="91.5" y1="187.7969" y2="1082.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="101.5" x2="101.5" y1="187.7969" y2="1082.6719"/><rect fill="#FFFFFF" height="21.1328" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="91.5" y="1110.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.5" x2="91.5" y1="1110.6719" y2="1131.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="101.5" x2="101.5" y1="1110.6719" y2="1131.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.5" x2="101.5" y1="1131.8047" y2="1131.8047"/><rect fill="#FFFFFF" height="865.7422" style="stroke:#181818;stroke-width:1.0;" width="10" x="361.5" y="208.9297"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="366.5" y="246.0625"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="366.5" y="369.0938"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="366.5" y="904.7969"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="366.5" y="1018.6719"/><rect fill="#FFFFFF" height="101.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="732.5" y="468.9922"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="737.5" y="506.125"/><rect fill="#FFFFFF" height="101.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="732.5" y="614.1953"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="737.5" y="651.3281"/><rect fill="#FFFFFF" height="101.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="732.5" y="759.3984"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="737.5" y="796.5313"/><rect fill="#FFFFFF" height="64.2656" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="886.5" y="82.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="886.5" x2="886.5" y1="82.7266" y2="146.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="896.5" x2="896.5" y1="82.7266" y2="146.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="886.5" x2="896.5" y1="82.7266" y2="82.7266"/><rect fill="#FFFFFF" height="894.875" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="886.5" y="187.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="886.5" x2="886.5" y1="187.7969" y2="1082.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="896.5" x2="896.5" y1="187.7969" y2="1082.6719"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="886.5" y="1110.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="886.5" x2="886.5" y1="1110.6719" y2="1139.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="896.5" x2="896.5" y1="1110.6719" y2="1139.8047"/><rect fill="#FFFFFF" height="1" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="886.5" y="1167.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="886.5" x2="886.5" y1="1167.8047" y2="1168.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="896.5" x2="896.5" y1="1167.8047" y2="1168.8047"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="891.5" y="1131.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="891.5" x2="891.5" y1="1131.8047" y2="1139.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="901.5" x2="901.5" y1="1131.8047" y2="1139.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="891.5" x2="901.5" y1="1131.8047" y2="1131.8047"/><rect fill="#FFFFFF" height="1" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="891.5" y="1167.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="891.5" x2="891.5" y1="1167.8047" y2="1168.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="901.5" x2="901.5" y1="1167.8047" y2="1168.8047"/><path d="M5,87.7266 L5,112.7266 L978,112.7266 L978,97.7266 L968,87.7266 L5,87.7266 " fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><path d="M968,87.7266 L968,97.7266 L978,97.7266 L968,87.7266 " fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="952" x="11" y="104.7935">The communication between the Agent Manager ans the Ankaios Server is simpliefied here. The actuall calls go over the Communication Middleware.</text><line style="stroke:#181818;stroke-width:1.0;" x1="102.5" x2="112.5" y1="138.9922" y2="134.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="102.5" x2="112.5" y1="138.9922" y2="142.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="101.5" x2="885.5" y1="138.9922" y2="138.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="118.5" y="133.9263">UpdateWorkload</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="323" x="330" y="171.2026">general steps of handling the UpdateWorkload command</text><polygon fill="#181818" points="349.5,204.9297,359.5,208.9297,349.5,212.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="101.5" x2="355.5" y1="208.9297" y2="208.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="108.5" y="203.8638">start (initial list of required Workloads)</text><line style="stroke:#181818;stroke-width:1.0;" x1="376.5" x2="418.5" y1="238.0625" y2="238.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="418.5" x2="418.5" y1="238.0625" y2="251.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="377.5" x2="418.5" y1="251.0625" y2="251.0625"/><polygon fill="#181818" points="387.5,247.0625,377.5,251.0625,387.5,255.0625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="383.5" y="232.9966">finds existing Workloads via the specific runtime</text><path d="M259.5,296.0625 L336.5,296.0625 L336.5,303.1953 L326.5,313.1953 L259.5,313.1953 L259.5,296.0625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="651.7344" style="stroke:#000000;stroke-width:1.5;" width="643" x="259.5" y="296.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="274.5" y="309.1294">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="179" x="351.5" y="308.2729">[for each required Worload]</text><line style="stroke:#181818;stroke-width:1.0;" x1="376.5" x2="418.5" y1="361.0938" y2="361.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="418.5" x2="418.5" y1="361.0938" y2="374.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="377.5" x2="418.5" y1="374.0938" y2="374.0938"/><polygon fill="#181818" points="387.5,370.0938,377.5,374.0938,387.5,378.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="383.5" y="340.895">create dedicated Workload</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="387.5" y="356.0278">object for the specific runtime</text><path d="M589,318.1953 L589,388.1953 L829,388.1953 L829,328.1953 L819,318.1953 L589,318.1953 " fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><path d="M819,318.1953 L819,328.1953 L829,328.1953 L819,318.1953 " fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="595" y="335.2622">the dedicated object implements</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="599" y="350.395">a common interface and handles</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="599" y="365.5278">runtime specific tasks. e.g.,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="599" y="380.6606">starting a container</text><path d="M269.5,430.7266 L339.5,430.7266 L339.5,437.8594 L329.5,447.8594 L269.5,447.8594 L269.5,430.7266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="437.9375" style="stroke:#000000;stroke-width:1.5;" width="623" x="269.5" y="430.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="284.5" y="443.7935">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="185" x="354.5" y="442.937">[no existing workload found]</text><polygon fill="#181818" points="720.5,464.9922,730.5,468.9922,720.5,472.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="371.5" x2="726.5" y1="468.9922" y2="468.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="378.5" y="463.9263">start a new Workload (dedicated Workload)</text><line style="stroke:#181818;stroke-width:1.0;" x1="747.5" x2="789.5" y1="498.125" y2="498.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="789.5" x2="789.5" y1="498.125" y2="511.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="748.5" x2="789.5" y1="511.125" y2="511.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="748.5" x2="758.5" y1="511.125" y2="507.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="748.5" x2="758.5" y1="511.125" y2="515.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="754.5" y="493.0591">decopule the action</text><line style="stroke:#181818;stroke-width:1.0;" x1="372.5" x2="382.5" y1="570.2578" y2="566.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="372.5" x2="382.5" y1="570.2578" y2="574.2578"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="371.5" x2="736.5" y1="570.2578" y2="570.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="388.5" y="565.1919">Workload Facade object</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="269.5" x2="892.5" y1="579.2578" y2="579.2578"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="279" x="274.5" y="589.4683">[existing workload with same config found]</text><polygon fill="#181818" points="720.5,610.1953,730.5,614.1953,720.5,618.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="371.5" x2="726.5" y1="614.1953" y2="614.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="378.5" y="609.1294">reconnects to existing Workload (dedicated Workload)</text><line style="stroke:#181818;stroke-width:1.0;" x1="747.5" x2="789.5" y1="643.3281" y2="643.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="789.5" x2="789.5" y1="643.3281" y2="656.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="748.5" x2="789.5" y1="656.3281" y2="656.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="748.5" x2="758.5" y1="656.3281" y2="652.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="748.5" x2="758.5" y1="656.3281" y2="660.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="754.5" y="638.2622">decopule the action</text><line style="stroke:#181818;stroke-width:1.0;" x1="372.5" x2="382.5" y1="715.4609" y2="711.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="372.5" x2="382.5" y1="715.4609" y2="719.4609"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="371.5" x2="736.5" y1="715.4609" y2="715.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="388.5" y="710.395">Workload Facade object</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="269.5" x2="892.5" y1="724.4609" y2="724.4609"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="265" x="274.5" y="734.6714">[existing workload with old config found]</text><polygon fill="#181818" points="720.5,755.3984,730.5,759.3984,720.5,763.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="371.5" x2="726.5" y1="759.3984" y2="759.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="378.5" y="754.3325">restarts updated Workload (dedicated Workload)</text><line style="stroke:#181818;stroke-width:1.0;" x1="747.5" x2="789.5" y1="788.5313" y2="788.5313"/><line style="stroke:#181818;stroke-width:1.0;" x1="789.5" x2="789.5" y1="788.5313" y2="801.5313"/><line style="stroke:#181818;stroke-width:1.0;" x1="748.5" x2="789.5" y1="801.5313" y2="801.5313"/><line style="stroke:#181818;stroke-width:1.0;" x1="748.5" x2="758.5" y1="801.5313" y2="797.5313"/><line style="stroke:#181818;stroke-width:1.0;" x1="748.5" x2="758.5" y1="801.5313" y2="805.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="754.5" y="783.4653">decopule the action</text><line style="stroke:#181818;stroke-width:1.0;" x1="372.5" x2="382.5" y1="860.6641" y2="856.6641"/><line style="stroke:#181818;stroke-width:1.0;" x1="372.5" x2="382.5" y1="860.6641" y2="864.6641"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="371.5" x2="736.5" y1="860.6641" y2="860.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="388.5" y="855.5981">Workload Facade object</text><line style="stroke:#181818;stroke-width:1.0;" x1="376.5" x2="418.5" y1="896.7969" y2="896.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="418.5" x2="418.5" y1="896.7969" y2="909.7969"/><line style="stroke:#181818;stroke-width:1.0;" x1="377.5" x2="418.5" y1="909.7969" y2="909.7969"/><polygon fill="#181818" points="387.5,905.7969,377.5,909.7969,387.5,913.7969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="383.5" y="891.731">store the Workload Facade object</text><path d="M269.5,961.7969 L346.5,961.7969 L346.5,968.9297 L336.5,978.9297 L269.5,978.9297 L269.5,961.7969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="99.875" style="stroke:#000000;stroke-width:1.5;" width="442" x="269.5" y="961.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="284.5" y="974.8638">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="341" x="361.5" y="974.0073">[remaining existing workloads for which no workload</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="282" x="365.5" y="986.812">in the list of required workloads was found]</text><line style="stroke:#181818;stroke-width:1.0;" x1="376.5" x2="418.5" y1="1010.6719" y2="1010.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="418.5" x2="418.5" y1="1010.6719" y2="1023.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="377.5" x2="418.5" y1="1023.6719" y2="1023.6719"/><polygon fill="#181818" points="387.5,1019.6719,377.5,1023.6719,387.5,1027.6719" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="383.5" y="1005.606">stops unneeded Workload</text><line style="stroke:#181818;stroke-width:1.0;" x1="102.5" x2="112.5" y1="1074.6719" y2="1070.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="102.5" x2="112.5" y1="1074.6719" y2="1078.6719"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="101.5" x2="365.5" y1="1074.6719" y2="1074.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="889.5" x2="879.5" y1="1131.8047" y2="1127.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="889.5" x2="879.5" y1="1131.8047" y2="1135.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="96.5" x2="890.5" y1="1131.8047" y2="1131.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="103.5" y="1126.7388">forward UpdateWorkloadState</text><!--MD5=[1ffd0147af087ecd43ccea88203a96fd]
@startuml seq_update_workload_initial
!include ../../../../resources/doc/plantuml/clean.skin

box "Ankaios Agent"
    participant "AgentManager" as manager

    participant "<<RuntimeAdapter>>\ne.g. PodmanAdapter" as runtime_adapter
    participant "Workload Facade" as wl_facade

end box

box "Ankaios Server"
    participant "Ankaios Server" as server
end box

activate manager
activate server

note over manager, server
The communication between the Agent Manager ans the Ankaios Server is simpliefied here. The actuall calls go over the Communication Middleware.
end note

manager <<- server ++: UpdateWorkload

... general steps of handling the UpdateWorkload command ...

manager -> runtime_adapter ++: start (initial list of required Workloads)

runtime_adapter -> runtime_adapter ++- -: finds existing Workloads via the specific runtime

loop for each required Worload
    runtime_adapter -> runtime_adapter ++- -: create dedicated Workload \n object for the specific runtime
    note right: the dedicated object implements \n a common interface and handles \n runtime specific tasks. e.g., \n starting a container

    opt no existing workload found 
        runtime_adapter -> wl_facade ++: start a new Workload (dedicated Workload)
        wl_facade ->> wl_facade ++- -: decopule the action
        wl_facade - ->> runtime_adapter - -: Workload Facade object
    else existing workload with same config found
        runtime_adapter -> wl_facade ++: reconnects to existing Workload (dedicated Workload)
        wl_facade ->> wl_facade ++- -: decopule the action
        wl_facade - ->> runtime_adapter - -: Workload Facade object
    else existing workload with old config found
        runtime_adapter -> wl_facade ++: restarts updated Workload (dedicated Workload)
        wl_facade ->> wl_facade ++- -: decopule the action
        wl_facade - ->> runtime_adapter - -: Workload Facade object
    end

    runtime_adapter -> runtime_adapter ++- -: store the Workload Facade object
end

loop remaining existing workloads for which no workload \n in the list of required workloads was found
        runtime_adapter -> runtime_adapter ++- -: stops unneeded Workload
end

runtime_adapter - ->> manager - -

...

manager ->> server - -++: forward UpdateWorkloadState

... 

@enduml

@startuml seq_update_workload_initial
skinparam monochrome true
skinparam guillemet true
skinparam style strictuml
hide empty members
hide empty methods

skinparam class {
    BorderColor<<logical entity>> grey
    FontColor<<logical entity>> grey
    StereotypeFontColor<<logical entity>> grey
}

skinparam sequenceBox {
    BorderColor #LightGrey
    BackgroundColor #EEEEEE
    FontColor #777777
}

skinparam BoxPadding 10

skinparam note {
    BackgroundColor #FFFFFF
}

skinparam nodesep 30
skinparam ranksep 30

box "Ankaios Agent"
    participant "AgentManager" as manager

    participant "<<RuntimeAdapter>>\ne.g. PodmanAdapter" as runtime_adapter
    participant "Workload Facade" as wl_facade

end box

box "Ankaios Server"
    participant "Ankaios Server" as server
end box

activate manager
activate server

note over manager, server
The communication between the Agent Manager ans the Ankaios Server is simpliefied here. The actuall calls go over the Communication Middleware.
end note

manager <<- server ++: UpdateWorkload

... general steps of handling the UpdateWorkload command ...

manager -> runtime_adapter ++: start (initial list of required Workloads)

runtime_adapter -> runtime_adapter ++- -: finds existing Workloads via the specific runtime

loop for each required Worload
    runtime_adapter -> runtime_adapter ++- -: create dedicated Workload \n object for the specific runtime
    note right: the dedicated object implements \n a common interface and handles \n runtime specific tasks. e.g., \n starting a container

    opt no existing workload found 
        runtime_adapter -> wl_facade ++: start a new Workload (dedicated Workload)
        wl_facade ->> wl_facade ++- -: decopule the action
        wl_facade - ->> runtime_adapter - -: Workload Facade object
    else existing workload with same config found
        runtime_adapter -> wl_facade ++: reconnects to existing Workload (dedicated Workload)
        wl_facade ->> wl_facade ++- -: decopule the action
        wl_facade - ->> runtime_adapter - -: Workload Facade object
    else existing workload with old config found
        runtime_adapter -> wl_facade ++: restarts updated Workload (dedicated Workload)
        wl_facade ->> wl_facade ++- -: decopule the action
        wl_facade - ->> runtime_adapter - -: Workload Facade object
    end

    runtime_adapter -> runtime_adapter ++- -: store the Workload Facade object
end

loop remaining existing workloads for which no workload \n in the list of required workloads was found
        runtime_adapter -> runtime_adapter ++- -: stops unneeded Workload
end

runtime_adapter - ->> manager - -

...

manager ->> server - -++: forward UpdateWorkloadState

... 

@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>