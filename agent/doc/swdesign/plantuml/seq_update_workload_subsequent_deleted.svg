<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="954px" preserveAspectRatio="none" style="width:813px;height:954px;background:#FFFFFF;" version="1.1" viewBox="0 0 813 954" width="813px" zoomAndPan="magnify"><defs/><g><rect fill="#EEEEEE" height="935.6406" style="stroke:#D3D3D3;stroke-width:0.5;" width="595.5" x="11" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107" x="255.25" y="18.0669">Ankaios Agent</text><rect fill="#FFFFFF" height="53.2656" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="67.5" y="94.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="67.5" y1="94.4297" y2="147.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="77.5" y1="94.4297" y2="147.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="77.5" y1="94.4297" y2="94.4297"/><rect fill="#FFFFFF" height="701.3359" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="67.5" y="188.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="67.5" y1="188.5" y2="889.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="77.5" y1="188.5" y2="889.8359"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="67.5" y="930.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="67.5" y1="930.6406" y2="938.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="77.5" y1="930.6406" y2="938.6406"/><rect fill="#FFFFFF" height="32.1328" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="248.5" y="115.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="248.5" x2="248.5" y1="115.5625" y2="147.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="258.5" x2="258.5" y1="115.5625" y2="147.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="248.5" x2="258.5" y1="115.5625" y2="115.5625"/><rect fill="#FFFFFF" height="701.3359" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="248.5" y="188.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="248.5" x2="248.5" y1="188.5" y2="889.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="258.5" x2="258.5" y1="188.5" y2="889.8359"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="248.5" y="930.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="248.5" x2="248.5" y1="930.6406" y2="938.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="258.5" x2="258.5" y1="930.6406" y2="938.6406"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="253.5" y="295.8359"/><rect fill="#FFFFFF" height="216.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="253.5" y="367.9688"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="258.5" y="410.1016"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="253.5" y="636.4375"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="253.5" y="717.5703"/><rect fill="#FFFFFF" height="86.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="558.5" y="498.3672"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="563.5" y="535.5"/><rect fill="#FFFFFF" height="86.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="558.5" y="781.7031"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="563.5" y="818.8359"/><rect fill="none" height="800.0781" style="stroke:#000000;stroke-width:1.5;" width="659" x="147.5" y="130.5625"/><rect fill="none" height="672.5313" style="stroke:#000000;stroke-width:1.5;" width="639" x="157.5" y="210.3047"/><rect fill="none" height="641.3984" style="stroke:#000000;stroke-width:1.5;" width="619" x="167.5" y="234.4375"/><rect fill="none" height="219.3359" style="stroke:#000000;stroke-width:1.5;" width="599" x="177.5" y="460.1016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="72" x2="72" y1="56.4297" y2="66.4297"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="72" x2="72" y1="66.4297" y2="94.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="72" x2="72" y1="94.4297" y2="147.6953"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="72" x2="72" y1="147.6953" y2="188.5"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="72" x2="72" y1="188.5" y2="889.8359"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="72" x2="72" y1="889.8359" y2="930.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="72" x2="72" y1="930.6406" y2="947.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="253.5" x2="253.5" y1="56.4297" y2="66.4297"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="253.5" x2="253.5" y1="66.4297" y2="94.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="253.5" x2="253.5" y1="94.4297" y2="147.6953"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="253.5" x2="253.5" y1="147.6953" y2="188.5"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="253.5" x2="253.5" y1="188.5" y2="889.8359"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="253.5" x2="253.5" y1="889.8359" y2="930.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="253.5" x2="253.5" y1="930.6406" y2="947.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="563.5" x2="563.5" y1="56.4297" y2="66.4297"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="563.5" x2="563.5" y1="66.4297" y2="94.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="563.5" x2="563.5" y1="94.4297" y2="147.6953"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="563.5" x2="563.5" y1="147.6953" y2="188.5"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="563.5" x2="563.5" y1="188.5" y2="889.8359"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="563.5" x2="563.5" y1="889.8359" y2="930.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="563.5" x2="563.5" y1="930.6406" y2="947.6406"/><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="15" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="22" y="45.1279">AgentManager</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="187.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="194.5" y="45.1279">RuntimeManager</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="524.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="531.5" y="45.1279">Workload</text><rect fill="#FFFFFF" height="53.2656" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="67.5" y="94.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="67.5" y1="94.4297" y2="147.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="77.5" y1="94.4297" y2="147.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="77.5" y1="94.4297" y2="94.4297"/><rect fill="#FFFFFF" height="701.3359" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="67.5" y="188.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="67.5" y1="188.5" y2="889.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="77.5" y1="188.5" y2="889.8359"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="67.5" y="930.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="67.5" y1="930.6406" y2="938.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="77.5" y1="930.6406" y2="938.6406"/><rect fill="#FFFFFF" height="32.1328" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="248.5" y="115.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="248.5" x2="248.5" y1="115.5625" y2="147.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="258.5" x2="258.5" y1="115.5625" y2="147.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="248.5" x2="258.5" y1="115.5625" y2="115.5625"/><rect fill="#FFFFFF" height="701.3359" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="248.5" y="188.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="248.5" x2="248.5" y1="188.5" y2="889.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="258.5" x2="258.5" y1="188.5" y2="889.8359"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="248.5" y="930.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="248.5" x2="248.5" y1="930.6406" y2="938.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="258.5" x2="258.5" y1="930.6406" y2="938.6406"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="253.5" y="295.8359"/><rect fill="#FFFFFF" height="216.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="253.5" y="367.9688"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="258.5" y="410.1016"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="253.5" y="636.4375"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="253.5" y="717.5703"/><rect fill="#FFFFFF" height="86.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="558.5" y="498.3672"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="563.5" y="535.5"/><rect fill="#FFFFFF" height="86.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="558.5" y="781.7031"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="563.5" y="818.8359"/><polygon fill="#181818" points="236.5,111.5625,246.5,115.5625,236.5,119.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="242.5" y1="115.5625" y2="115.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="84.5" y="110.4966">handle update workload</text><path d="M147.5,130.5625 L211.5,130.5625 L211.5,137.6953 L201.5,147.6953 L147.5,147.6953 L147.5,130.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="800.0781" style="stroke:#000000;stroke-width:1.5;" width="659" x="147.5" y="130.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="162.5" y="143.6294">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="380" x="226.5" y="142.7729">[first update workload call for the current agent execution]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="194" x="221" y="171.9058">see dedicated digram for first call</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147.5" x2="806.5" y1="189.5" y2="189.5"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="224" x="152.5" y="199.7104">[subsequent update workload call]</text><path d="M157.5,210.3047 L234.5,210.3047 L234.5,217.4375 L224.5,227.4375 L157.5,227.4375 L157.5,210.3047 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="672.5313" style="stroke:#000000;stroke-width:1.5;" width="639" x="157.5" y="210.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="172.5" y="223.3716">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="174" x="249.5" y="222.5151">[for each deleted Worload]</text><path d="M167.5,234.4375 L237.5,234.4375 L237.5,241.5703 L227.5,251.5703 L167.5,251.5703 L167.5,234.4375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="641.3984" style="stroke:#000000;stroke-width:1.5;" width="619" x="167.5" y="234.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="182.5" y="247.5044">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="332" x="252.5" y="246.6479">[if the workload is also in the added workloads list]</text><line style="stroke:#181818;stroke-width:1.0;" x1="263.5" x2="305.5" y1="287.8359" y2="287.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="305.5" x2="305.5" y1="287.8359" y2="300.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="305.5" y1="300.8359" y2="300.8359"/><polygon fill="#181818" points="274.5,296.8359,264.5,300.8359,274.5,304.8359" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="270.5" y="267.6372">remove workload from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="274.5" y="282.77">added workloads list</text><line style="stroke:#181818;stroke-width:1.0;" x1="258.5" x2="305.5" y1="354.9688" y2="354.9688"/><line style="stroke:#181818;stroke-width:1.0;" x1="305.5" x2="305.5" y1="354.9688" y2="367.9688"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="305.5" y1="367.9688" y2="367.9688"/><polygon fill="#181818" points="274.5,363.9688,264.5,367.9688,274.5,371.9688" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="270.5" y="349.9028">update workload</text><line style="stroke:#181818;stroke-width:1.0;" x1="268.5" x2="310.5" y1="402.1016" y2="402.1016"/><line style="stroke:#181818;stroke-width:1.0;" x1="310.5" x2="310.5" y1="402.1016" y2="415.1016"/><line style="stroke:#181818;stroke-width:1.0;" x1="269.5" x2="310.5" y1="415.1016" y2="415.1016"/><polygon fill="#181818" points="279.5,411.1016,269.5,415.1016,279.5,419.1016" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="275.5" y="397.0356">find workload in running workloads</text><path d="M177.5,460.1016 L241.5,460.1016 L241.5,467.2344 L231.5,477.2344 L177.5,477.2344 L177.5,460.1016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="219.3359" style="stroke:#000000;stroke-width:1.5;" width="599" x="177.5" y="460.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="192.5" y="473.1685">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="154" x="256.5" y="472.312">[workload object found]</text><polygon fill="#181818" points="546.5,494.3672,556.5,498.3672,546.5,502.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="263.5" x2="552.5" y1="498.3672" y2="498.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="270.5" y="493.3013">update (new config)</text><line style="stroke:#181818;stroke-width:1.0;" x1="573.5" x2="615.5" y1="527.5" y2="527.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="615.5" x2="615.5" y1="527.5" y2="540.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="615.5" y1="540.5" y2="540.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="584.5" y1="540.5" y2="536.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="584.5" y1="540.5" y2="544.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="580.5" y="522.4341">decopule the specific actions</text><line style="stroke:#181818;stroke-width:1.0;" x1="259.5" x2="269.5" y1="584.5" y2="580.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="259.5" x2="269.5" y1="584.5" y2="588.5"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="258.5" x2="562.5" y1="584.5" y2="584.5"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="177.5" x2="776.5" y1="593.5" y2="593.5"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="311" x="182.5" y="603.7104">[no workload object found -&gt; nothing to update]</text><line style="stroke:#181818;stroke-width:1.0;" x1="263.5" x2="305.5" y1="628.4375" y2="628.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="305.5" x2="305.5" y1="628.4375" y2="641.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="305.5" y1="641.4375" y2="641.4375"/><polygon fill="#181818" points="274.5,637.4375,264.5,641.4375,274.5,645.4375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="270.5" y="623.3716">add workload</text><path d="M366,615.8047 L366,640.8047 L614,640.8047 L614,625.8047 L604,615.8047 L366,615.8047 " fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><path d="M604,615.8047 L604,625.8047 L614,625.8047 L604,615.8047 " fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="372" y="632.8716">see add workload digram for details</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="167.5" x2="786.5" y1="687.4375" y2="687.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="263.5" x2="305.5" y1="709.5703" y2="709.5703"/><line style="stroke:#181818;stroke-width:1.0;" x1="305.5" x2="305.5" y1="709.5703" y2="722.5703"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="305.5" y1="722.5703" y2="722.5703"/><polygon fill="#181818" points="274.5,718.5703,264.5,722.5703,274.5,726.5703" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286" x="270.5" y="704.5044">remove workload from runtime workloads list</text><polygon fill="#181818" points="546.5,777.7031,556.5,781.7031,546.5,785.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="258.5" x2="552.5" y1="781.7031" y2="781.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="265.5" y="776.6372">delete</text><line style="stroke:#181818;stroke-width:1.0;" x1="573.5" x2="615.5" y1="810.8359" y2="810.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="615.5" x2="615.5" y1="810.8359" y2="823.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="615.5" y1="823.8359" y2="823.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="584.5" y1="823.8359" y2="819.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="584.5" y1="823.8359" y2="827.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="580.5" y="805.77">decopule the specific action</text><line style="stroke:#181818;stroke-width:1.0;" x1="259.5" x2="269.5" y1="867.8359" y2="863.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="259.5" x2="269.5" y1="867.8359" y2="871.8359"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="258.5" x2="562.5" y1="867.8359" y2="867.8359"/><line style="stroke:#383838;stroke-width:2.0;" x1="554.5" x2="572.5" y1="858.8359" y2="876.8359"/><line style="stroke:#383838;stroke-width:2.0;" x1="554.5" x2="572.5" y1="876.8359" y2="858.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="248.5" y="914.0464">handle added Workloads</text><!--MD5=[9875618bbfe8d79ce4ec7a8044538dfa]
@startuml seq_update_workload_subsequent_deleted
!include ../../../../resources/doc/plantuml/clean.skin

box "Ankaios Agent"
    participant "AgentManager" as manager
    participant "RuntimeManager" as runtime_manager
    participant "Workload" as workload
end box

activate manager

...

manager -> runtime_manager ++: handle update workload

alt first update workload call for the current agent execution
... see dedicated digram for first call ...
else subsequent update workload call
    loop for each deleted Worload
        opt if the workload is also in the added workloads list
            runtime_manager -> runtime_manager ++- -: remove workload from \n added workloads list
            runtime_manager -> runtime_manager ++: update workload
            runtime_manager -> runtime_manager ++- -: find workload in running workloads
            alt workload object found
                runtime_manager -> workload ++: update (new config)
                workload ->> workload ++- -: decopule the specific actions
                workload - ->> runtime_manager - -:
                deactivate runtime_manager
            else no workload object found -> nothing to update
                runtime_manager -> runtime_manager++- -:add workload
                note right
                see add workload digram for details
                endnote
            end
        else
            runtime_manager -> runtime_manager ++- -: remove workload from runtime workloads list
            runtime_manager -> workload ++: delete
            workload ->> workload ++- -: decopule the specific action
            workload - ->> runtime_manager - -:
            destroy workload
        end
    end

    ... handle added Workloads ...

end

@enduml

@startuml seq_update_workload_subsequent_deleted
skinparam monochrome true
skinparam guillemet true
skinparam style strictuml
hide empty members
hide empty methods

skinparam class {
    BorderColor<<logical entity>> grey
    FontColor<<logical entity>> grey
    StereotypeFontColor<<logical entity>> grey
}

skinparam sequenceBox {
    BorderColor #LightGrey
    BackgroundColor #EEEEEE
    FontColor #777777
}

skinparam BoxPadding 10

skinparam note {
    BackgroundColor #FFFFFF
}

skinparam nodesep 30
skinparam ranksep 30

box "Ankaios Agent"
    participant "AgentManager" as manager
    participant "RuntimeManager" as runtime_manager
    participant "Workload" as workload
end box

activate manager

...

manager -> runtime_manager ++: handle update workload

alt first update workload call for the current agent execution
... see dedicated digram for first call ...
else subsequent update workload call
    loop for each deleted Worload
        opt if the workload is also in the added workloads list
            runtime_manager -> runtime_manager ++- -: remove workload from \n added workloads list
            runtime_manager -> runtime_manager ++: update workload
            runtime_manager -> runtime_manager ++- -: find workload in running workloads
            alt workload object found
                runtime_manager -> workload ++: update (new config)
                workload ->> workload ++- -: decopule the specific actions
                workload - ->> runtime_manager - -:
                deactivate runtime_manager
            else no workload object found -> nothing to update
                runtime_manager -> runtime_manager++- -:add workload
                note right
                see add workload digram for details
                endnote
            end
        else
            runtime_manager -> runtime_manager ++- -: remove workload from runtime workloads list
            runtime_manager -> workload ++: delete
            workload ->> workload ++- -: decopule the specific action
            workload - ->> runtime_manager - -:
            destroy workload
        end
    end

    ... handle added Workloads ...

end

@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>