<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="576px" preserveAspectRatio="none" style="width:930px;height:576px;background:#FFFFFF;" version="1.1" viewBox="0 0 930 576" width="930px" zoomAndPan="magnify"><defs/><g><rect fill="#EEEEEE" height="557.75" style="stroke:#D3D3D3;stroke-width:0.5;" width="762" x="16" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107" x="343.5" y="18.0669">Ankaios Agent</text><rect fill="#EEEEEE" height="557.75" style="stroke:#D3D3D3;stroke-width:0.5;" width="124" x="800" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="110" x="807" y="18.0669">Ankaios Server</text><rect fill="#FFFFFF" height="372.1172" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="72.5" y="139.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="72.5" x2="72.5" y1="139.8281" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="82.5" y1="139.8281" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="72.5" x2="82.5" y1="139.8281" y2="139.8281"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="72.5" y="552.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="72.5" x2="72.5" y1="552.75" y2="560.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="82.5" y1="552.75" y2="560.75"/><rect fill="#FFFFFF" height="315.8516" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="77.5" y="196.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="77.5" y1="196.0938" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="87.5" y1="196.0938" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="87.5" y1="196.0938" y2="196.0938"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="77.5" y="552.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="77.5" y1="552.75" y2="560.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="87.5" y1="552.75" y2="560.75"/><rect fill="#FFFFFF" height="210.4531" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="411" y="301.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="411" x2="411" y1="301.4922" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="301.4922" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="411" x2="421" y1="301.4922" y2="301.4922"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="411" y="552.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="411" x2="411" y1="552.75" y2="560.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="552.75" y2="560.75"/><rect fill="#FFFFFF" height="372.1172" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="857" y="139.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="857" x2="857" y1="139.8281" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="867" x2="867" y1="139.8281" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="857" x2="867" y1="139.8281" y2="139.8281"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="857" y="552.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="857" x2="857" y1="552.75" y2="560.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="867" x2="867" y1="552.75" y2="560.75"/><rect fill="none" height="341.6563" style="stroke:#000000;stroke-width:1.5;" width="774" x="10" y="211.0938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="77" x2="77" y1="89.0234" y2="99.0234"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="77" x2="77" y1="99.0234" y2="139.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="77" x2="77" y1="139.8281" y2="511.9453"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="77" x2="77" y1="511.9453" y2="552.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="77" x2="77" y1="552.75" y2="569.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="415.5" x2="415.5" y1="301.0078" y2="511.9453"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="415.5" x2="415.5" y1="511.9453" y2="552.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="415.5" x2="415.5" y1="552.75" y2="569.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="710" x2="710" y1="400.7344" y2="511.9453"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="710" x2="710" y1="511.9453" y2="552.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="710" x2="710" y1="552.75" y2="569.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="862" x2="862" y1="89.0234" y2="99.0234"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="862" x2="862" y1="99.0234" y2="139.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="862" x2="862" y1="139.8281" y2="511.9453"/><line style="stroke:#383838;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="862" x2="862" y1="511.9453" y2="552.75"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="862" x2="862" y1="552.75" y2="569.75"/><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="20" y="57.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="27" y="77.7217">AgentManager</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="804" y="57.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="811" y="77.7217">Ankaios Server</text><rect fill="#FFFFFF" height="372.1172" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="72.5" y="139.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="72.5" x2="72.5" y1="139.8281" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="82.5" y1="139.8281" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="72.5" x2="82.5" y1="139.8281" y2="139.8281"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="72.5" y="552.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="72.5" x2="72.5" y1="552.75" y2="560.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="82.5" y1="552.75" y2="560.75"/><rect fill="#FFFFFF" height="315.8516" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="77.5" y="196.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="77.5" y1="196.0938" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="87.5" y1="196.0938" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="87.5" y1="196.0938" y2="196.0938"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="77.5" y="552.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="77.5" y1="552.75" y2="560.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="87.5" y1="552.75" y2="560.75"/><rect fill="#FFFFFF" height="210.4531" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="411" y="301.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="411" x2="411" y1="301.4922" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="301.4922" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="411" x2="421" y1="301.4922" y2="301.4922"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="411" y="552.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="411" x2="411" y1="552.75" y2="560.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="421" y1="552.75" y2="560.75"/><rect fill="#FFFFFF" height="372.1172" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="857" y="139.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="857" x2="857" y1="139.8281" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="867" x2="867" y1="139.8281" y2="511.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="857" x2="867" y1="139.8281" y2="139.8281"/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="857" y="552.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="857" x2="857" y1="552.75" y2="560.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="867" x2="867" y1="552.75" y2="560.75"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="407.25" y="123.2339">Ankaios Agent startup</text><path d="M22,144.8281 L22,169.8281 L917,169.8281 L917,154.8281 L907,144.8281 L22,144.8281 " fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><path d="M907,144.8281 L907,154.8281 L917,154.8281 L907,144.8281 " fill="#FFFFFF" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="689" x="120.5" y="161.895">The call to the Agent Manager is simpliefied here. The actuall call goes over the Communication Middleware.</text><line style="stroke:#181818;stroke-width:1.0;" x1="88.5" x2="98.5" y1="196.0938" y2="192.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="88.5" x2="98.5" y1="196.0938" y2="200.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="856" y1="196.0938" y2="196.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="104.5" y="191.0278">UpdateWorkload</text><path d="M10,211.0938 L87,211.0938 L87,218.2266 L77,228.2266 L10,228.2266 L10,211.0938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="341.6563" style="stroke:#000000;stroke-width:1.5;" width="774" x="10" y="211.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="25" y="224.1606">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="119" x="102" y="223.3042">[for each worload]</text><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="129.5" y1="249.3594" y2="249.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="129.5" x2="129.5" y1="249.3594" y2="262.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="88.5" x2="129.5" y1="262.3594" y2="262.3594"/><polygon fill="#181818" points="98.5,258.3594,88.5,262.3594,98.5,266.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="94.5" y="244.2935">skip workloads with unknown runtime</text><polygon fill="#181818" points="308.5,287.4922,318.5,291.4922,308.5,295.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="314.5" y1="291.4922" y2="291.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="94.5" y="286.4263">create Control Interface Instance</text><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191" x="320.5" y="270.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="327.5" y="290.3545">Control Interface Instance</text><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="463" y1="332.7891" y2="332.7891"/><line style="stroke:#181818;stroke-width:1.0;" x1="463" x2="463" y1="332.7891" y2="345.7891"/><line style="stroke:#181818;stroke-width:1.0;" x1="422" x2="463" y1="345.7891" y2="345.7891"/><polygon fill="#181818" points="432,341.7891,422,345.7891,432,349.7891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="428" y="327.7231">create input-output pipe pair per Workload</text><polygon fill="#181818" points="634,370.9219,644,374.9219,634,378.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="421" x2="640" y1="374.9219" y2="374.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="428" y="369.856">start Control Interface task</text><rect fill="#E3E3E3" height="62.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="646" y="353.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="671.5" y="373.7842">&lt;&lt;task&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="686" y="390.0811">Handle</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="653" y="406.3779">Control Interface</text><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="129.5" y1="448.8125" y2="448.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="129.5" x2="129.5" y1="448.8125" y2="461.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="88.5" x2="129.5" y1="461.8125" y2="461.8125"/><polygon fill="#181818" points="98.5,457.8125,88.5,461.8125,98.5,465.8125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="94.5" y="443.7466">store Control Interface Instance</text><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="129.5" y1="490.9453" y2="490.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="129.5" x2="129.5" y1="490.9453" y2="503.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="88.5" x2="129.5" y1="503.9453" y2="503.9453"/><polygon fill="#181818" points="98.5,499.9453,88.5,503.9453,98.5,507.9453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="94.5" y="485.8794">store Workload to runtime mapping</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="352" x="293.75" y="536.1558">handle initial or subsequent added and deleted workload lists</text><!--MD5=[f751b4e0613aa5b1077abd7a0657fb84]
@startuml seq_update_workload
!include ../../../../resources/doc/plantuml/clean.skin

box "Ankaios Agent"
    participant "AgentManager" as manager
    participant "Control Interface Instance" as control
    participant "<<task>>\nHandle\nControl Interface" as control_task

end box

box "Ankaios Server"
    participant "Ankaios Server" as server
end box

activate manager
activate server

... Ankaios Agent startup ... 

note over manager, server
The call to the Agent Manager is simpliefied here. The actuall call goes over the Communication Middleware.
end note

manager <<- server ++: UpdateWorkload

loop for each worload
    manager -> manager: skip workloads with unknown runtime
    manager -> control **: create Control Interface Instance
    activate control
    control -> control: create input-output pipe pair per Workload
    control -> control_task **: start Control Interface task
    manager -> manager: store Control Interface Instance
    manager -> manager: store Workload to runtime mapping

    ... handle initial or subsequent added and deleted workload lists ...
end



@enduml

@startuml seq_update_workload
skinparam monochrome true
skinparam guillemet true
skinparam style strictuml
hide empty members
hide empty methods

skinparam class {
    BorderColor<<logical entity>> grey
    FontColor<<logical entity>> grey
    StereotypeFontColor<<logical entity>> grey
}

skinparam sequenceBox {
    BorderColor #LightGrey
    BackgroundColor #EEEEEE
    FontColor #777777
}

skinparam BoxPadding 10

skinparam note {
    BackgroundColor #FFFFFF
}

skinparam nodesep 30
skinparam ranksep 30

box "Ankaios Agent"
    participant "AgentManager" as manager
    participant "Control Interface Instance" as control
    participant "<<task>>\nHandle\nControl Interface" as control_task

end box

box "Ankaios Server"
    participant "Ankaios Server" as server
end box

activate manager
activate server

... Ankaios Agent startup ... 

note over manager, server
The call to the Agent Manager is simpliefied here. The actuall call goes over the Communication Middleware.
end note

manager <<- server ++: UpdateWorkload

loop for each worload
    manager -> manager: skip workloads with unknown runtime
    manager -> control **: create Control Interface Instance
    activate control
    control -> control: create input-output pipe pair per Workload
    control -> control_task **: start Control Interface task
    manager -> manager: store Control Interface Instance
    manager -> manager: store Workload to runtime mapping

    ... handle initial or subsequent added and deleted workload lists ...
end



@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>